<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
  <h2 style="color: #333;"><%= t('.greeting', default: 'Hello!') %></h2>
  
  <p style="font-size: 16px; line-height: 1.5;">
    <%= t('.invited_html', default: 'You have been invited to join the community <strong>%{community_name}</strong>.', community_name: @community&.name).html_safe %>
  </p>
  
  <% if @invitation.inviter %>
    <p style="font-size: 14px; color: #666;">
      <%= t('.invited_by_html', default: 'You were invited by <strong>%{inviter_name}</strong>.', inviter_name: @invitation.inviter.name).html_safe %>
    </p>
  <% end %>

  <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h3 style="margin-top: 0; color: #333;"><%= t('.community_details', default: 'Community Details') %></h3>
    
    <p style="margin: 8px 0;">
      <strong><%= t('.community_name', default: 'Community') %>:</strong> 
      <%= @community.name %>
    </p>
    
    <% if @community.description_html.present? %>
      <div style="margin: 12px 0;">
        <strong><%= t('.about', default: 'About') %>:</strong><br>
        <%= simple_format(@community.description_html.to_plain_text) %>
      </div>
    <% elsif @community.description.present? %>
      <div style="margin: 12px 0;">
        <strong><%= t('.about', default: 'About') %>:</strong><br>
        <%= simple_format(@community.description) %>
      </div>
    <% end %>

    <% if @invitation.role %>
      <p style="margin: 8px 0;">
        <strong><%= t('.your_role', default: 'Your Role') %>:</strong> 
        <%= @invitation.role.name %>
      </p>
    <% end %>
  </div>

  <div style="text-align: center; margin: 30px 0;">
    <a href="<%= @invitation_url %>" 
       style="background-color: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block; font-weight: bold;">
      <%= t('.review_invitation', default: 'Review Invitation') %>
    </a>
  </div>

  <div style="background-color: #e9ecef; padding: 15px; border-radius: 5px; margin: 20px 0;">
    <p style="margin: 0; font-size: 14px; color: #666;">
      <%= t('.need_account_html', default: "You'll need to create an account to accept this invitation and join the community.").html_safe %>
    </p>
  </div>

  <hr style="border: none; border-top: 1px solid #dee2e6; margin: 30px 0;">
  
  <p style="font-size: 12px; color: #888; text-align: center;">
    <%= t('better_together.mailer.footer.no_reply', default: 'This is an automated message. Please do not reply to this email.') %>
  </p>
</div>