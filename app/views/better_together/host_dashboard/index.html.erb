<% content_for :page_title do %>
  Dashboard
<% end %>

<div class="container mt-3">
  <h1>Dashboard</h1>

  <div class="row mt-3">
    <!-- Communities -->
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <%= link_to "Communities", communities_path, class: "h6 text-decoration-none" %>
          <span class="badge bg-primary rounded-pill d-flex align-items-center"><%= @community_count %></span>
        </div>
        <div class="card-body" style="min-height: 100px;">
          <% @communities.each do |community| %>
            <div class="d-flex justify-content-between">
              <span><%= link_to community.name, community_path(community), class: "text-decoration-none" %></span>
              <span><%= l community.created_at, format: :dashboard_resource %></span>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Navigation Areas -->
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <%= link_to "Navigation Areas", navigation_areas_path, class: "h6 text-decoration-none" %>
          <span class="badge bg-primary rounded-pill d-flex align-items-center"><%= @navigation_area_count %></span>
        </div>
        <div class="card-body" style="min-height: 100px;">
          <% @navigation_areas.each do |area| %>
            <div class="d-flex justify-content-between">
              <span><%= link_to area.name, navigation_area_path(area), class: "text-decoration-none" %></span>
              <span><%= l area.created_at, format: :dashboard_resource %></span>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Pages -->
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <%= link_to "Pages", pages_path, class: "h6 text-decoration-none" %>
          <span class="badge bg-primary rounded-pill d-flex align-items-center"><%= @page_count %></span>
        </div>
        <div class="card-body" style="min-height: 100px;">
          <% @pages.each do |page| %>
            <div class="d-flex justify-content-between">
              <span><%= link_to page.title, page_path(page), class: "text-decoration-none" %></span>
              <span><%= l page.created_at, format: :dashboard_resource %></span>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Platforms -->
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <%= link_to "Platforms", platforms_path, class: "h6 text-decoration-none" %>
          <span class="badge bg-primary rounded-pill d-flex align-items-center"><%= @platform_count %></span>
        </div>
        <div class="card-body" style="min-height: 100px;">
          <% @platforms.each do |platform| %>
            <div class="d-flex justify-content-between">
              <span><%= link_to platform.name, platform_path(platform), class: "text-decoration-none" %></span>
              <span><%= l platform.created_at, format: :dashboard_resource %></span>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- People -->
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <%= link_to "People", people_path, class: "h6 text-decoration-none" %>
          <span class="badge bg-primary rounded-pill d-flex align-items-center"><%= @person_count %></span>
        </div>
        <div class="card-body" style="min-height: 100px;">
          <% @people.each do |person| %>
            <div class="d-flex justify-content-between">
              <span><%= link_to person.name, person_path(person), class: "text-decoration-none" %></span>
              <span><%= l person.created_at, format: :dashboard_resource %></span>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Roles -->
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <%= link_to "Roles", roles_path, class: "h6 text-decoration-none" %>
          <span class="badge bg-primary rounded-pill d-flex align-items-center"><%= @role_count %></span>
        </div>
        <div class="card-body" style="min-height: 100px;">
          <% @roles.each do |role| %>
            <div class="d-flex justify-content-between">
              <span><%= link_to role.name, role_path(role), class: "text-decoration-none" %></span>
              <span><%= l role.created_at, format: :dashboard_resource %></span>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Resource Permissions -->
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <%= link_to "Resource Permissions", resource_permissions_path, class: "h6 text-decoration-none" %>
          <span class="badge bg-primary rounded-pill d-flex align-items-center"><%= @resource_permission_count %></span>
        </div>
        <div class="card-body" style="min-height: 100px;">
          <% @resource_permissions.each do |permission| %>
            <div class="d-flex justify-content-between">
              <span><%= link_to permission.identifier, resource_permission_path(permission), class: "text-decoration-none" %></span>
              <span><%= l permission.created_at, format: :dashboard_resource %></span>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <%= render partial: 'resource_card', locals: { model_class: ::BetterTogether::User, collection: @users, count: @user_count } %>
  </div>

  <div id="content-section" class="row mt-3">
    <div class="col-12">
      <h3><%= t('.content') %></h3>
    </div>

    <%= render partial: 'resource_card', locals: { model_class: ::BetterTogether::Content::Block, url_helper: :content_block_path, collection: @content_blocks, count: @content_block_count } %>
</div>

  <div id="geography-section" class="row mt-3">
    <div class="col-12">
      <h3><%= t('.geography') %></h3>
    </div>

    <%= render partial: 'resource_card', locals: { model_class: ::BetterTogether::Geography::Continent, collection: @geography_continents, count: @geography_continent_count } %>
    <%= render partial: 'resource_card', locals: { model_class: ::BetterTogether::Geography::Country, collection: @geography_countries, count: @geography_country_count } %>
    <%= render partial: 'resource_card', locals: { model_class: ::BetterTogether::Geography::State, collection: @geography_states, count: @geography_state_count } %>
    <%= render partial: 'resource_card', locals: { model_class: ::BetterTogether::Geography::Region, collection: @geography_regions, count: @geography_region_count } %>
    <%= render partial: 'resource_card', locals: { model_class: ::BetterTogether::Geography::Settlement, collection: @geography_settlements, count: @geography_settlement_count } %>
  </div>
</div>
