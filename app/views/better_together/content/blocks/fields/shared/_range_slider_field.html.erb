<%# locals: (block:, scope:, attribute:, value:, min: 0, max: 1, step: 0.05, label: nil, css_class: 'range-slider', representation_format: "default") -%>

<div class="col <%= css_class %>" data-controller="better_together--range-slider">
  <%= label_tag "#{scope}[#{attribute}]", label || block.class.human_attribute_name(attribute), class: 'form-label' %>

  <div class="d-flex align-items-center">
    <%= range_field_tag "#{scope}[#{attribute}]",
                        value,
                        in: min..max,
                        step: step,
                        class: "form-range",
                        "data-better_together--range-slider-target" => "rangeField",
                        "data-better_together--range-slider-format" => representation_format %>

    <span class="ms-2" data-better_together--range-slider-target="output">
      <%= representation_format == "percentage" ? "#{(value.to_f * 100).to_i}%" : value %>
    </span>
  </div>
</div>
