<!-- app/views/better_together/membership_updated_notifier/notifications/_notification.html.erb -->
<%= render layout: 'better_together/notifications/notification',
           locals: { notification: notification,
                     notification_title: notification.title,
                     notification_url: notification.joinable } do %>
  <% cache ["membership_updated_content", notification.cache_key_with_version, I18n.locale] do %>
    <p class="mb-1">
      <%= notification.body %>
    </p>
    <small class="text-muted">
      <%= I18n.t('better_together.notifications.membership_updated.role_change_detail', 
                 old_role: notification.old_role&.name, 
                 new_role: notification.new_role&.name,
                 default: '%{old_role} â†’ %{new_role}') %>
    </small>
  <% end %>
<% end %>