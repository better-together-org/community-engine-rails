<% content_for :page_title, t('.title') %>

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <h1 class="h2 mb-4">
        <i class="fa-solid fa-language me-2" aria-hidden="true"></i>
        <%= t('.title') %>
      </h1>

      <!-- Main Navigation Tabs -->
      <ul class="nav nav-tabs mb-4" id="translationTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab" aria-controls="overview" aria-selected="true">
            <i class="fa-solid fa-chart-pie me-2" aria-hidden="true"></i>
            <%= t('.overview_tab') %>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="by-locale-tab" data-bs-toggle="tab" data-bs-target="#by-locale" type="button" role="tab" aria-controls="by-locale" aria-selected="false">
            <i class="fa-solid fa-globe me-2" aria-hidden="true"></i>
            <%= t('.by_locale_tab') %>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="by-model-type-tab" data-bs-toggle="tab" data-bs-target="#by-model-type" type="button" role="tab" aria-controls="by-model-type" aria-selected="false">
            <i class="fa-solid fa-cube me-2" aria-hidden="true"></i>
            <%= t('.by_model_type_tab') %>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="by-data-type-tab" data-bs-toggle="tab" data-bs-target="#by-data-type" type="button" role="tab" aria-controls="by-data-type" aria-selected="false">
            <i class="fa-solid fa-database me-2" aria-hidden="true"></i>
            <%= t('.by_data_type_tab') %>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="by-attribute-tab" data-bs-toggle="tab" data-bs-target="#by-attribute" type="button" role="tab" aria-controls="by-attribute" aria-selected="false">
            <i class="fa-solid fa-tag me-2" aria-hidden="true"></i>
            <%= t('.by_attribute_tab') %>
          </button>
        </li>
      </ul>

      <!-- Tab Content -->
      <div class="tab-content" id="translationTabsContent">
        <!-- Overview Tab (Default Active) -->
        <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
          <%= render 'overview' %>
        </div>

        <!-- By Locale Tab (Lazy-Loaded) -->
        <div class="tab-pane fade" id="by-locale" role="tabpanel" aria-labelledby="by-locale-tab">
          <%= turbo_frame_tag :translations_by_locale, loading: :lazy, src: better_together.by_locale_translations_path do %>
            <div class="text-center py-5">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden"><%= t('.loading') %></span>
              </div>
              <p class="mt-3 text-muted"><%= t('.loading_by_locale') %></p>
            </div>
          <% end %>
        </div>

        <!-- By Model Type Tab (Lazy-Loaded) -->
        <div class="tab-pane fade" id="by-model-type" role="tabpanel" aria-labelledby="by-model-type-tab">
          <%= turbo_frame_tag :translations_by_model_type, loading: :lazy, src: better_together.by_model_type_translations_path do %>
            <div class="text-center py-5">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden"><%= t('.loading') %></span>
              </div>
              <p class="mt-3 text-muted"><%= t('.loading_by_model_type') %></p>
            </div>
          <% end %>
        </div>

        <!-- By Data Type Tab (Lazy-Loaded) -->
        <div class="tab-pane fade" id="by-data-type" role="tabpanel" aria-labelledby="by-data-type-tab">
          <%= turbo_frame_tag :translations_by_data_type, loading: :lazy, src: better_together.by_data_type_translations_path do %>
            <div class="text-center py-5">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden"><%= t('.loading') %></span>
              </div>
              <p class="mt-3 text-muted"><%= t('.loading_by_data_type') %></p>
            </div>
          <% end %>
        </div>

        <!-- By Attribute Tab (Lazy-Loaded) -->
        <div class="tab-pane fade" id="by-attribute" role="tabpanel" aria-labelledby="by-attribute-tab">
          <%= turbo_frame_tag :translations_by_attribute, loading: :lazy, src: better_together.by_attribute_translations_path do %>
            <div class="text-center py-5">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden"><%= t('.loading') %></span>
              </div>
              <p class="mt-3 text-muted"><%= t('.loading_by_attribute') %></p>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>