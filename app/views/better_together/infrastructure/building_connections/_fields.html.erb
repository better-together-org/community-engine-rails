
<%# locals: (form:) %>
<div class="building-connections-fields nested-fields border-top py-3 my-3 row align-items-end" data-new-record="<%= form.object.new_record? %>">
  <h4><%= BetterTogether::Infrastructure::Building.name.humanize %></h4>
  <%= form.hidden_field :_destroy %>

  <div class="col-md-12">
    <%= form.fields_for(:building) do |building_form| %>
      <!-- Building -->
      <%= render partial: 'better_together/infrastructure/buildings/fields', locals: { form: building_form } %>
    <% end %>
  </div>

  <div class="col-4 col-md-2">
    <%= render partial: 'better_together/shared/fields/primary_flag', locals: { form:, primary_flag_scope: form.object.connection_id } %>
  </div>

  <div class="col-8 col-md-10 mt-3 mt-md-0">
    <%= link_to '#remove-building-connection', class: 'btn btn-outline-danger btn-sm', data: { action: 'click->better_together--dynamic-fields#remove' } do %>
      <i class="fas fa-minus"></i> <%= t('better_together.remove') %>
    <% end %>
  </div>
</div>
