<%= render 'better_together/shared/card', entity: post, link_target: post, col_classes: 'col mb-4', card_classes: 'h-100', title_classes: '' do %>
  <p class="card-text text-muted mb-4"><%= truncate(strip_tags(post.content.to_plain_text), length: 150) %></p>

  <%# Render authors as mention partials when present (compact inline) %>
  <% if post.respond_to?(:authors) && post.authors.any? %>
    <div class="mb-3">
      <div class="d-flex align-items-center flex-wrap">
        <%= render 'better_together/shared/authors', authors: post.authors, flex_layout: 'flex-row', flex_align_items: 'center' %>
      </div>
    </div>
  <% end %>

  <div class="mt-auto">
    <small class="text-muted">
      <% if post.respond_to?(:published_at) && post.published_at.present? %>
        <%= t("better_together.posts.published_on", default: "Published %{date}", date: l(post.published_at, format: :short)) %>
      <% else %>
        <%= t("better_together.shared.unpublished", default: "Unpublished") %>
      <% end %>
  </small>
  </div>
<% end %>
