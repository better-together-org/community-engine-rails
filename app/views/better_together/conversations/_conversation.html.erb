<!-- app/views/conversations/_conversation.html.erb -->

<%# locals: (conversation:, last_message: conversation.messages.last) %>

<li id="<%= dom_id(conversation) %>" class="<%= dom_class(conversation) %> list-group-item rounded-0 <%= 'active' if conversation == @conversation %>">
  <%= link_to conversation_path(conversation), class: "stretched-link text-decoration-none d-flex justify-content-between" do %>
    <div class="mb-1 conversation-participants justify-content-between">
      <%= render partial: 'better_together/people/mention', collection: conversation.participants, as: :person %>
    </div>

    <strong><%= conversation.title if conversation.title.present? %></strong>
    <small class="last-message">
      <%= l(last_message.created_at, format: :short) if last_message %>
    </small>
  <% end %>
</li>
