# frozen_string_literal: true

module BetterTogether
  # Notifier for <%= invitation_name %> invitation notifications
  # Inherits from InvitationNotifierBase for shared notification functionality
  class <%= invitation_name.classify %>InvitationNotifier < InvitationNotifierBase
    deliver_by :email, mailer: 'BetterTogether::<%= invitation_name.classify %>InvitationsMailer', method: :invite, params: :email_params,
                       queue: :mailers

    notification_methods do
      delegate :title, :body, :invitation, :invitable, to: :<%= invitation_name %>
    end

    private

    def title_i18n_key
      'better_together.notifications.<%= invitation_name %>_invitation.title'
    end

    def body_i18n_key
      'better_together.notifications.<%= invitation_name %>_invitation.body'
    end

    def title_i18n_vars
      { <%= invitation_name %>_name: invitable&.name }
    end

    def body_i18n_vars
      { <%= invitation_name %>_name: invitable&.name }
    end
  end
end